{% extends "base.html" %} {% block content %}

<div class="relative flex flex-col gap-4 px-4">
  <div class="relative flex flex-col gap-2">
    <h1 class="font-InterBold text-l md:text-2xl">Welcome back, {{nama}}</h1>
    <h1 class="font-Inter text-gray-400 text-s">Class : {{class}}</h1>
    <h1 class="font-Inter text-gray-400 text-s">Last login : {{last_login}}</h1>
  </div>

  <div class="relative flex flex-col items-center md:items-start">
    <a href="{% url 'main:logout' %}">
      <button
        class="p-2 rounded-[10px] text-[14px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold mt-4 w-36"
      >
        Logout
      </button>
    </a>
  </div>

  <div>
    <h1 class="font-InterBold text-center text-[28px] mt-4">Daftar Produk</h1>
  </div>

  <div>
    {% if productData %}
    <p class="font-InterBold text-[16px]">
      Terdapat {{productData.count}} produk pada sistem kelolaToko
    </p>

    <div
      class="relative grid grid-flow-row grid-cols-1 md:grid-cols-2 lg:grid-cols-3 md:gap-8 gap-6 mt-4"
    >
      {% for product in productData.products %}

      <div
        class="flex flex-col w-full border-2 border-purple-200 hover:shadow-xl shadow-sm transition-all rounded-[10px] px-5 py-3 bg-white"
      >
        <h1 class="font-InterBold text-[24px]">{{ product.name }}</h1>
        <p class="font-Inter text-gray-400 text-[12px]">
          Category : {{ product.category__name }}
        </p>
        <p class="font-Inter text-justify text-[16px]">
          {{ product.description }}
        </p>
        <p class="font-InterBold text-justify text-[16px]">
          Rp{{ product.price }}
        </p>
        <p class="font-Inter text-gray-800 text-[14px]">
          Stock : {{ product.stock }}
        </p>
        <p class="font-Inter text-gray-800 text-[14px]">
          Sold : {{ product.sold }}
        </p>

        <div class="flex flex-col gap-4 flex-end px-4 mt-4">
          <form method="POST" action="{% url 'main:increment-product' %}">
            {% csrf_token %}
            <input
              type="hidden"
              name="product_id"
              value="{{ product.id }}"
            /><button
              class="p-2 rounded-[10px] text-[14px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full"
              type="submit"
            >
              Add Stock
            </button>
          </form>

          <form method="POST" action="{% url 'main:sold-product' %}">
            {% csrf_token %}
            <input
              type="hidden"
              name="product_id"
              value="{{ product.id }}"
            /><button
              class="p-2 rounded-[10px] text-[14px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full"
              type="submit"
            >
              Sell Product
            </button>
          </form>
        </div>
      </div>
      {% endfor %}
    </div>

    {% endif %}
  </div>

  <div
    class="relative flex flex-col gap-2 lg:gap-4 lg:items-center lg:mt-10 mt-4"
  >
    <div class="relative flex flex-col lg:flex-row gap-2 lg:gap-4">
      <a href="{% url 'main:add-product' %}">
        <button
          class="p-2 rounded-[10px] text-[16px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full lg:w-48"
        >
          Tambah Produk
        </button>
      </a>

      <a href="{% url 'main:delete-product' %}">
        <button
          class="p-2 rounded-[10px] text-[16px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full lg:w-48"
        >
          Hapus Produk
        </button>
      </a>
    </div>

    <div class="relative flex flex-col lg:flex-row lg:gap-4 gap-2">
      <a href="{% url 'main:add-category' %}">
        <button
          class="p-2 rounded-[10px] text-[16px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full lg:w-48"
        >
          Tambah Kategori
        </button>
      </a>

      <a href="{% url 'main:delete-category' %}">
        <button
          class="p-2 rounded-[10px] text-[16px] bg-purple-600 text-white bg-gradiend hover:bg-[#727bfc] transition-all text-center font-InterBold w-full lg:w-48"
        >
          Hapus Kategori
        </button>
      </a>
    </div>
  </div>
</div>
{% endblock content %}
